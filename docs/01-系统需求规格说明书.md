# 企业ERP管理系统 - 需求规格说明书

## 文档信息

| 项目名称 | 企业ERP管理系统 |
|---------|----------------|
| 文档版本 | v1.0 |
| 编写日期 | 2025-10-19 |
| 技术栈 | Django + DRF + MySQL + Redis + Vue3 + Element Plus |

---

## 目录

1. [项目概述](#1-项目概述)
2. [系统架构](#2-系统架构)
3. [功能模块设计](#3-功能模块设计)
4. [用户角色与权限](#4-用户角色与权限)
5. [业务流程](#5-业务流程)
6. [非功能性需求](#6-非功能性需求)

---

## 1. 项目概述

### 1.1 项目背景

企业ERP管理系统是一套面向中小型制造企业的综合管理系统，旨在整合企业内部的核心业务流程，包括基础数据管理、库存管理、销售管理、采购管理、生产管理、财务管理、人力资源管理和物流管理等模块，提升企业运营效率和管理水平。

### 1.2 项目目标

- **提升效率**：通过信息化手段减少人工操作，提高工作效率
- **降低成本**：优化业务流程，降低企业运营成本
- **数据驱动**：建立统一的数据中心，支持数据分析和决策
- **规范管理**：标准化业务流程，提升企业管理水平
- **易于扩展**：模块化设计，支持按需扩展功能

### 1.3 适用范围

- 中小型制造企业
- 贸易型企业
- 仓储物流企业
- 其他需要ERP系统的企业

---

## 2. 系统架构

### 2.1 技术架构

```
┌─────────────────────────────────────────────────────────────┐
│                        用户层                                 │
│                  PC浏览器 / 移动端浏览器                      │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                      前端展示层                               │
│          Vue3 + Vite + Element Plus + Pinia                 │
│           路由管理 / 状态管理 / 组件库                        │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                      API网关层                                │
│                 Django + DRF + JWT                          │
│            认证鉴权 / 请求路由 / 限流熔断                      │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                      业务逻辑层                               │
│   基础模块 | 库存 | 销售 | 采购 | 生产 | 财务 | 人事 | 物流  │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                      数据访问层                               │
│              Django ORM + MySQL + Redis                     │
│           关系数据库 / 缓存 / 队列 / 会话                      │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 系统部署架构

```
┌──────────────┐    ┌──────────────┐    ┌──────────────┐
│   负载均衡    │───→│   Web服务器   │───→│  应用服务器   │
│    Nginx     │    │    Nginx     │    │    Django    │
└──────────────┘    └──────────────┘    └──────────────┘
                                               ↓
                    ┌──────────────────────────┴────────┐
                    ↓                                   ↓
            ┌──────────────┐                  ┌──────────────┐
            │  MySQL数据库  │                  │  Redis缓存    │
            │   主从复制    │                  │   集群部署    │
            └──────────────┘                  └──────────────┘
```

---

## 3. 功能模块设计

### 3.1 基础数据管理模块 (Foundation)

#### 3.1.1 组织架构管理
- **部门管理**：部门的增删改查、部门树形结构
- **岗位管理**：岗位定义、岗位职责、岗位层级
- **员工管理**：员工基本信息、部门归属、岗位分配

#### 3.1.2 系统管理
- **用户管理**：用户账号、密码、状态管理
- **角色管理**：角色定义、权限分配
- **菜单管理**：菜单配置、权限绑定
- **字典管理**：系统字典、数据字典
- **参数配置**：系统参数、业务参数

#### 3.1.3 基础资料
- **客户管理**：客户档案、客户分类、联系人
- **供应商管理**：供应商档案、供应商分类、联系人
- **物料管理**：物料编码、物料分类、物料属性、单位换算
- **仓库管理**：仓库信息、库位管理、仓库类型

---

### 3.2 库存管理模块 (Inventory)

#### 3.2.1 库存基础
- **库存查询**：实时库存、库存明细、库龄分析
- **库存预警**：安全库存、最高库存、最低库存预警
- **批次管理**：批次号、生产日期、有效期

#### 3.2.2 入库管理
- **采购入库**：采购订单入库、入库单审核
- **生产入库**：成品入库、半成品入库
- **其他入库**：盘盈入库、调拨入库、退货入库

#### 3.2.3 出库管理
- **销售出库**：销售订单出库、出库单审核
- **生产领料**：生产任务领料、领料单审核
- **其他出库**：盘亏出库、调拨出库、报废出库

#### 3.2.4 库存调整
- **库存盘点**：盘点计划、盘点单、盘点差异处理
- **库存调拨**：仓库间调拨、在途管理
- **库存调整**：库存数量调整、库存金额调整

---

### 3.3 销售管理模块 (Sales)

#### 3.3.1 销售订单管理
- **订单录入**：客户订单录入、订单明细
- **订单审核**：订单审批流程、审核权限
- **订单执行**：订单发货、发货跟踪
- **订单变更**：订单修改、订单取消

#### 3.3.2 报价管理
- **报价单**：客户询价、报价单生成
- **价格管理**：客户价格、产品价格、价格策略
- **报价审批**：报价审批流程

#### 3.3.3 发货管理
- **发货单**：发货单生成、发货确认
- **物流跟踪**：物流信息、配送进度
- **签收确认**：客户签收、异常处理

#### 3.3.4 退货管理
- **退货申请**：退货原因、退货明细
- **退货审核**：退货审批流程
- **退货入库**：退货商品入库

#### 3.3.5 销售分析
- **销售统计**：销售额统计、销售量统计
- **客户分析**：客户排名、客户贡献度
- **产品分析**：产品销量排名、畅销品分析

---

### 3.4 采购管理模块 (Procurement)

#### 3.4.1 采购计划
- **需求计划**：物料需求计划（MRP）
- **采购计划**：采购计划制定、计划审批

#### 3.4.2 采购订单管理
- **订单创建**：供应商选择、订单录入
- **订单审批**：采购审批流程、多级审批
- **订单跟踪**：订单执行进度、到货跟踪
- **订单变更**：订单修改、订单取消

#### 3.4.3 到货管理
- **到货通知**：供应商到货通知
- **质检入库**：到货检验、合格入库、不合格处理
- **发票管理**：采购发票、发票核对

#### 3.4.4 退货管理
- **退货申请**：退货原因、退货明细
- **退货审核**：退货审批流程
- **退货出库**：退货商品出库

#### 3.4.5 供应商管理
- **供应商评估**：供应商评分、供应商等级
- **供应商对账**：采购对账、付款记录
- **供应商分析**：采购金额排名、供应商绩效

---

### 3.5 生产管理模块 (Production)

#### 3.5.1 生产计划
- **主生产计划**：MPS计划、计划排程
- **物料需求计划**：MRP计算、物料清单（BOM）

#### 3.5.2 生产订单管理
- **生产任务单**：生产任务创建、任务分配
- **工序管理**：工序定义、工序路线
- **任务派工**：派工单、工人分配

#### 3.5.3 生产执行
- **生产报工**：工序报工、完工数量
- **质量检验**：首检、巡检、终检
- **生产进度**：生产进度跟踪、异常处理

#### 3.5.4 BOM管理
- **BOM维护**：物料清单、子件清单
- **BOM版本**：版本管理、版本对比
- **BOM分析**：成本核算、用量分析

#### 3.5.5 设备管理
- **设备档案**：设备信息、设备参数
- **设备维护**：保养计划、维修记录
- **设备监控**：设备状态、开机率统计

---

### 3.6 财务管理模块 (Finance)

#### 3.6.1 应收管理
- **应收账款**：客户欠款、账龄分析
- **收款登记**：收款记录、收款核销
- **发票管理**：销售发票、发票开具

#### 3.6.2 应付管理
- **应付账款**：供应商欠款、账龄分析
- **付款登记**：付款记录、付款核销
- **发票管理**：采购发票、发票核对

#### 3.6.3 成本核算
- **成本中心**：成本归集、成本分摊
- **产品成本**：标准成本、实际成本
- **成本分析**：成本差异分析、成本构成分析

#### 3.6.4 费用管理
- **费用报销**：报销单据、审批流程
- **预算管理**：预算编制、预算执行、预算分析
- **费用统计**：费用分类统计、部门费用统计

#### 3.6.5 财务报表
- **资产负债表**：资产、负债、所有者权益
- **利润表**：收入、成本、利润
- **现金流量表**：现金流入、现金流出

---

### 3.7 人力资源管理模块 (HRM)

#### 3.7.1 员工管理
- **员工档案**：基本信息、合同信息、教育经历
- **员工入职**：入职流程、入职审批
- **员工离职**：离职申请、离职交接、离职审批
- **员工调动**：部门调动、岗位调整

#### 3.7.2 考勤管理
- **考勤记录**：上下班打卡、加班记录
- **请假管理**：请假申请、请假审批、假期统计
- **排班管理**：班次设置、排班计划、调班申请
- **考勤统计**：出勤统计、异常统计

#### 3.7.3 薪资管理
- **薪资方案**：工资结构、薪资级别
- **工资计算**：基本工资、绩效工资、奖金、扣款
- **工资发放**：工资表生成、工资发放记录
- **社保公积金**：社保缴纳、公积金缴纳

#### 3.7.4 绩效管理
- **绩效考核**：考核方案、考核周期
- **考核评分**：自评、上级评分、360度评估
- **绩效分析**：绩效排名、绩效改进

#### 3.7.5 招聘培训
- **招聘管理**：招聘需求、简历筛选、面试安排
- **培训管理**：培训计划、培训实施、培训效果评估

---

### 3.8 物流管理模块 (Logistics)

#### 3.8.1 运输管理
- **运输计划**：发货计划、车辆安排
- **运输执行**：装车、运输、卸车
- **运输跟踪**：GPS定位、实时跟踪
- **运费结算**：运费计算、运费对账

#### 3.8.2 配送管理
- **配送路线**：路线规划、路线优化
- **配送任务**：配送单、配送人员
- **配送跟踪**：配送进度、签收确认

#### 3.8.3 仓储管理
- **货位管理**：货位分配、货位优化
- **拣货管理**：拣货任务、拣货路径
- **盘点管理**：盘点计划、盘点执行、盘点结果

#### 3.8.4 物流分析
- **物流成本**：运输成本、仓储成本
- **物流效率**：配送及时率、库存周转率
- **物流报表**：发货统计、库存统计

---

### 3.9 报表中心模块 (Reports)

#### 3.9.1 业务报表
- **销售报表**：销售日报、销售月报、销售年报
- **采购报表**：采购日报、采购月报、采购年报
- **库存报表**：库存日报、库存月报、库存分析
- **生产报表**：生产日报、生产月报、生产效率

#### 3.9.2 财务报表
- **财务报表**：资产负债表、利润表、现金流量表
- **往来报表**：应收账款报表、应付账款报表
- **成本报表**：成本分析表、成本差异表

#### 3.9.3 管理报表
- **经营分析**：经营指标、经营趋势
- **绩效分析**：部门绩效、员工绩效
- **决策分析**：销售预测、库存预测

#### 3.9.4 自定义报表
- **报表设计器**：拖拽式报表设计
- **数据源配置**：数据源选择、数据过滤
- **报表导出**：Excel、PDF、Word导出

---

## 4. 用户角色与权限

### 4.1 角色定义

| 角色名称 | 角色说明 | 主要权限 |
|---------|---------|---------|
| 超级管理员 | 系统最高权限 | 所有功能权限 |
| 系统管理员 | 系统配置管理 | 用户、角色、菜单、字典管理 |
| 财务总监 | 财务模块负责人 | 财务模块所有权限 |
| 销售总监 | 销售模块负责人 | 销售模块所有权限 |
| 采购总监 | 采购模块负责人 | 采购模块所有权限 |
| 生产总监 | 生产模块负责人 | 生产模块所有权限 |
| 仓库主管 | 仓库管理负责人 | 库存模块所有权限 |
| 销售员 | 销售业务人员 | 销售订单录入、查询 |
| 采购员 | 采购业务人员 | 采购订单录入、查询 |
| 仓管员 | 仓库操作人员 | 出入库操作、库存查询 |
| 生产员工 | 生产操作人员 | 生产报工、任务查询 |
| 财务会计 | 财务核算人员 | 财务记账、报表查询 |

### 4.2 权限设计

#### 4.2.1 功能权限
- **菜单权限**：控制用户可见菜单
- **按钮权限**：控制页面内按钮可见性
- **操作权限**：控制增删改查操作

#### 4.2.2 数据权限
- **全部数据**：查看所有数据
- **部门数据**：只能查看本部门数据
- **个人数据**：只能查看个人数据
- **自定义数据**：根据规则自定义数据范围

---

## 5. 业务流程

### 5.1 销售业务流程

```
客户询价 → 销售报价 → 客户下单 → 订单审核 → 库存检查
    ↓
订单确认 → 发货准备 → 出库发货 → 物流配送 → 客户签收
    ↓
开具发票 → 应收账款 → 收款核销 → 完成交易
```

### 5.2 采购业务流程

```
物料需求 → 采购申请 → 采购审批 → 供应商选择 → 下达订单
    ↓
订单跟踪 → 到货通知 → 质量检验 → 合格入库 → 采购发票
    ↓
应付账款 → 付款申请 → 付款审批 → 付款执行 → 完成采购
```

### 5.3 生产业务流程

```
销售订单 → 生产计划 → 物料需求 → 采购/领料 → 生产任务
    ↓
任务派工 → 生产执行 → 质量检验 → 成品入库 → 成本核算
```

### 5.4 库存业务流程

```
入库：采购入库/生产入库/其他入库 → 质检 → 上架 → 库存更新
出库：销售出库/生产领料/其他出库 → 审核 → 拣货 → 出库 → 库存更新
盘点：盘点计划 → 盘点执行 → 盘点差异 → 调整处理 → 库存更新
```

---

## 6. 非功能性需求

### 6.1 性能需求

| 指标 | 要求 |
|------|------|
| 响应时间 | 页面加载时间 < 2秒 |
| 并发用户数 | 支持200+ 并发用户 |
| 数据库查询 | 单表查询 < 500ms |
| 报表生成 | 复杂报表 < 5秒 |
| 系统可用性 | 99.5% 以上 |

### 6.2 安全需求

- **身份认证**：JWT Token认证
- **权限控制**：RBAC权限模型
- **数据加密**：敏感数据加密存储
- **操作日志**：完整的操作审计日志
- **数据备份**：每日自动备份
- **SQL注入防护**：使用ORM防止SQL注入
- **XSS防护**：前端输入过滤和转义

### 6.3 可用性需求

- **界面友好**：符合用户使用习惯
- **操作简便**：减少操作步骤
- **错误提示**：清晰的错误提示信息
- **帮助文档**：在线帮助文档
- **响应式设计**：支持PC和移动端

### 6.4 可维护性需求

- **代码规范**：遵循PEP8和ESLint规范
- **模块化设计**：松耦合、高内聚
- **文档完整**：接口文档、部署文档
- **日志完善**：详细的系统日志
- **版本管理**：Git版本控制

### 6.5 可扩展性需求

- **模块化架构**：支持模块独立部署
- **接口标准化**：RESTful API设计
- **数据库优化**：支持分库分表
- **缓存机制**：Redis缓存热点数据
- **消息队列**：Celery异步任务处理

---

## 附录

### A. 术语表

| 术语 | 说明 |
|------|------|
| ERP | Enterprise Resource Planning，企业资源计划 |
| MRP | Material Requirement Planning，物料需求计划 |
| MPS | Master Production Schedule，主生产计划 |
| BOM | Bill of Material，物料清单 |
| SKU | Stock Keeping Unit，库存量单位 |
| RBAC | Role-Based Access Control，基于角色的访问控制 |
| JWT | JSON Web Token，JSON Web令牌 |

### B. 参考文档

- Django官方文档：https://docs.djangoproject.com/
- Vue3官方文档：https://vuejs.org/
- Element Plus文档：https://element-plus.org/

---

**文档结束**
